#[tokio::test]
async fn test_device_linking_flow() {
    // Setup: start app, create user, get JWT, etc.
    // 1. Initiate link
    // 2. Get QR code (optional)
    // 3. Complete link with token
    // 4. List devices, assert new device is present and verified
    // Use reqwest or axum::http for requests
}